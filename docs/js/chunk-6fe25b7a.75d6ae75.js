(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fe25b7a"],{"16db":function(e,t,a){"use strict";var n=a("4689"),s=a.n(n);s.a},4689:function(e,t,a){},"644e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("a-tabs",{attrs:{defaultActiveKey:"0",animated:!1,type:"card",hideAdd:!1},on:{change:e.callback}},[a("a-tab-pane",{key:"0",attrs:{tab:"评论敏感词"}},[a("div",{staticClass:"add-btn"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addBanWords}},[e._v("新增")]),a("a-button",{staticStyle:{"margin-left":"1%"},attrs:{type:"primary",disabled:!1,loading:e.loading,icon:"delete"},on:{click:e.start}},[e._v("\n          删除\n        ")])],1),a("a-row",{attrs:{gutter:8}},[a("a-col",[a("s-table",{ref:"table0",attrs:{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},data:e.commentData}},[a("a-table-column",{key:"keyword",attrs:{title:"关键词",dataIndex:"keyword",width:"85%"}}),a("a-table-column",{key:"action",attrs:{title:"操作",width:"15%"},scopedSlots:e._u([{key:"default",fn:function(t,n){return[a("span",[a("a",{on:{click:function(t){return e.onDelete(n)}}},[e._v("删除")])])]}}])})],1)],1)],1)],1),a("a-tab-pane",{key:"1",attrs:{tab:"昵称敏感词",forceRender:""}},[a("div",{staticClass:"add-btn"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addBanWords}},[e._v("新增")]),a("a-button",{staticStyle:{"margin-left":"1%"},attrs:{type:"primary",disabled:!1,loading:e.loading,icon:"delete"},on:{click:e.start}},[e._v("\n          删除\n        ")])],1),a("a-row",{attrs:{gutter:8}},[a("a-col",[a("s-table",{ref:"table1",attrs:{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},data:e.commentData}},[a("a-table-column",{key:"keyword",attrs:{title:"关键词",dataIndex:"keyword",width:"85%"}}),a("a-table-column",{key:"action",attrs:{title:"操作",width:"15%"},scopedSlots:e._u([{key:"default",fn:function(t,n){return[a("span",[a("a",{on:{click:function(t){return e.onDelete(n)}}},[e._v("删除")])])]}}])})],1)],1)],1)],1)],1),a("add-sensitivity",{ref:"addModel",on:{ok:e.handleSaveOk,close:e.handleSaveClose}})],1)},s=[],o=a("e814"),i=a.n(o),r=(a("06db"),a("e8c4")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:400,visible:e.visible,confirmLoading:e.confirmLoading,destroyOnClose:e.destroy},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-row",[a("a-col",{staticStyle:{display:"'block'"},attrs:{span:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"关键词",hasFeedback:""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["keyword",{rules:[{required:!0,message:"请录入关键词"},{validator:e.maxLength},{whitespace:!0,message:"请勿输入空格"}]}],expression:"['keyword', { rules: [{ required: true, message: '请录入关键词' },{ validator: maxLength },{ whitespace: true, message: '请勿输入空格'}] }]"}],attrs:{placeholder:"请录入关键词"}})],1)],1)],1)],1)],1)],1)},c=[],d=(a("a481"),a("a026")),u=a("b775"),f=a("9fb0"),h=f["l"];function m(e,t){return Object(u["b"])({url:h+"/sensitivity/page?pageNum="+e.pageNum+"&pageSize="+e.pageSize+"&type="+t,method:"get"})}function p(e){return Object(u["b"])({url:h+"/sensitivity/del",method:"post",data:e})}function b(e){return Object(u["b"])({url:h+"/sensitivity/add",method:"post",data:e})}var g=a("af85"),y=new d["a"],v=function(e,t,a){var n=100;if(t){var s=t.replace(/[\u0391-\uFFE5]/g,"aa").length;s>n&&a(new Error("最大"+n+"字符"))}a()},w={name:"AddSensitivity",data:function(){return{title:"新增敏感词",id:null,labelCol:g["a"],wrapperCol:g["c"],visible:!1,confirmLoading:!1,mdl:{},destroy:!0,type:0,maxLength:v,form:this.$form.createForm(this)}},created:function(){},methods:{add:function(e){this.type=e,this.title="新增敏感词",this.visible=!0},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(a,n){a||(n.type=e.type,t.confirmLoading=!0,b(n).then(function(e){t.dealResult(e)}).catch(function(e){t.confirmLoading=!1,t.$message.error("新增失败:"+e)}))})},handleCancel:function(){this.close()},dealResult:function(e){var t=this;e.result?(t.confirmLoading=!1,t.close(),y.$emit("success")):(t.$message.error(e.message),t.confirmLoading=!1)}}},k=w,$=a("2877"),C=Object($["a"])(k,l,c,!1,null,"5da1f30c",null),S=C.exports,x={name:"BanWordsListPage",components:{AddSensitivity:S,STable:r["a"]},data:function(){var e=this;return{Data:[],selectedTab:0,commentData:function(t){return m(t,e.selectedTab).then(function(e){return e.object}).catch(function(e){console.info(e)})},selectedRowKeys:[],loading:!1}},created:function(){var e=this;y.$on("success",function(){1===e.selectedTab?e.$refs.table1.refresh(!0):0===e.selectedTab&&e.$refs.table0.refresh(!0),e.$message.success("操作成功")}),y.$on("error",function(t){e.$message.error(t)}),this.visible=!0},methods:{addBanWords:function(){this.$refs.addModel.add(this.selectedTab)},onDelete:function(e){this.$confirm({title:"是否确认删除?",style:"top: 270px;",onOk:function(){var t=[e.id+""];p(t).then(function(e){e.result?y.$emit("success"):y.$emit("error",e.message)}).catch(function(e){y.$emit("error","操作失败"+e)})},onCancel:function(){}})},handleSaveOk:function(){},handleSaveClose:function(){},start:function(){var e=this;e.selectedRowKeys.length>0?this.$confirm({title:"是否确认删除?",style:"top: 270px;",onOk:function(){e.loading=!0,p(e.selectedRowKeys).then(function(t){t.result?(e.selectedRowKeys=[],y.$emit("success")):y.$emit("error",t.message)}).catch(function(e){y.$emit("error","操作失败"+e)}).finally(function(){e.loading=!1})},onCancel:function(){}}):this.$message.error("请选择数据！")},onSelectChange:function(e){console.log("selectedRowKeys changed: ",e),this.selectedRowKeys=e},callback:function(e){this.selectedRowKeys=[],this.selectedTab=i()(e),1===this.selectedTab?this.$refs.table1.refresh(!0):0===this.selectedTab&&this.$refs.table0.refresh(!0),console.log(e)}}},R=x,K=(a("16db"),Object($["a"])(R,n,s,!1,null,null,null));t["default"]=K.exports},af85:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return o});var n={xs:{span:6},sm:{span:6}},s={xs:{span:15},sm:{span:15}},o={labelCol:{xs:{span:6},sm:{span:12},lg:{span:3}},wrapperCol:{xs:{span:6},sm:{span:12},lg:{span:4}}}}}]);