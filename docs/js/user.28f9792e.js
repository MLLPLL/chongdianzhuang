(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1037:function(t,e,a){"use strict";a.r(e);for(var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("result",{attrs:{isSuccess:!0,content:!1,title:t.email,description:t.description}},[a("template",{slot:"action"},[a("a-button",{attrs:{size:"large",type:"primary"}},[t._v("查看邮箱")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{size:"large"},on:{click:t.goHomeHandle}},[t._v("返回首页")])],1)],2)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{padding:"0 0 32px 32px"}},[a("h4",{style:{marginBottom:"20px"}},[t._v(t._s(t.title))]),a("v-chart",{attrs:{height:"254",data:t.data,forceFit:!0,padding:["auto","auto","40","50"]}},[a("v-tooltip"),a("v-axis"),a("v-bar",{attrs:{position:"x*y"}})],1)],1)},n=[],o=[],l=0;l<12;l+=1)o.push({x:"".concat(l+1,"月"),y:Math.floor(1e3*Math.random())+200});for(var c=["x*y",function(t,e){return{name:t,value:e}}],d=[{dataKey:"x",min:2},{dataKey:"y",title:"时间",min:1,max:22}],u={name:"Bar",props:{title:{type:String,default:""}},data:function(){return{data:o,scale:d,tooltip:c}}},p=u,f=a("2877"),h=Object(f["a"])(p,s,n,!1,null,null,null),m=(h.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{attrs:{loading:t.loading,"body-style":{padding:"20px 24px 8px"},bordered:!1}},[a("div",{staticClass:"chart-card-header"},[a("div",{staticClass:"meta"},[a("span",{staticClass:"chart-card-title"},[t._v(t._s(t.title))]),a("span",{staticClass:"chart-card-action"},[t._t("action")],2)]),a("div",{staticClass:"total"},[a("span",[t._v(t._s(t.total))])])]),a("div",{staticClass:"chart-card-content"},[a("div",{staticClass:"content-fix"},[t._t("default")],2)]),a("div",{staticClass:"chart-card-footer"},[a("div",{staticClass:"field"},[t._t("footer")],2)])])}),g=[],v={name:"ChartCard",props:{title:{type:String,default:""},total:{type:String,default:""},loading:{type:Boolean,default:!1}}},b=v,y=(a("e225"),Object(f["a"])(b,m,g,!1,null,"1287813a",null)),w=(y.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-chart",{attrs:{forceFit:!0,height:t.height,width:t.width,data:t.data,scale:t.scale,padding:0}},[a("v-tooltip"),a("v-interval",{attrs:{shape:["liquid-fill-gauge"],position:"transfer*value",color:"","v-style":{lineWidth:10,opacity:.75},tooltip:["transfer*value",function(t,e){return{name:t,value:e}}]}}),t._l(t.data,function(t,e){return a("v-guide",{key:e,attrs:{type:"text",top:!0,position:{gender:t.transfer,value:45},content:t.value+"%","v-style":{fontSize:100,textAlign:"center",opacity:.75}}})})],2)],1)}),x=[],_=(a("c5f6"),{name:"Liquid",props:{height:{type:Number,default:0},width:{type:Number,default:0}}}),k=_,C=Object(f["a"])(k,w,x,!1,null,"23eb3e84",null),S=(C.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"antv-chart-mini"},[a("div",{staticClass:"chart-wrapper",style:{height:46}},[a("v-chart",{attrs:{"force-fit":!0,height:t.height,data:t.data,padding:[36,0,18,0]}},[a("v-tooltip"),a("v-smooth-area",{attrs:{position:"x*y"}})],1)],1)])}),O=[],L=a("c1df"),q=a.n(L),$=[],B=(new Date).getTime(),T=0;T<10;T++)$.push({x:q()(new Date(B+864e5*T)).format("YYYY-MM-DD"),y:Math.round(10*Math.random())});for(var z=["x*y",function(t,e){return{name:t,value:e}}],D=[{dataKey:"x",min:2},{dataKey:"y",title:"时间",min:1,max:22}],j={name:"MiniArea",data:function(){return{data:$,tooltip:z,scale:D,height:100}}},E=j,F=(a("2bf7"),Object(f["a"])(E,S,O,!1,null,"6f708b88",null)),A=(F.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"antv-chart-mini"},[a("div",{staticClass:"chart-wrapper",style:{height:46}},[a("v-chart",{attrs:{"force-fit":!0,height:t.height,data:t.data,padding:[36,5,18,5]}},[a("v-tooltip"),a("v-bar",{attrs:{position:"x*y"}})],1)],1)])}),I=[],K=[],P=(new Date).getTime(),M=0;M<10;M++)K.push({x:q()(new Date(P+864e5*M)).format("YYYY-MM-DD"),y:Math.round(10*Math.random())});var R=["x*y",function(t,e){return{name:t,value:e}}],N=[{dataKey:"x",min:2},{dataKey:"y",title:"时间",min:1,max:30}],Y={name:"MiniBar",data:function(){return{data:K,tooltip:R,scale:N,height:100}}},V=Y,Z=(a("29c9"),Object(f["a"])(V,A,I,!1,null,"6e1418a1",null)),H=(Z.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-mini-progress"},[a("div",{staticClass:"target",style:{left:t.target+"%"}},[a("span",{style:{backgroundColor:t.color}}),a("span",{style:{backgroundColor:t.color}})]),a("div",{staticClass:"progress-wrapper"},[a("div",{staticClass:"progress",style:{backgroundColor:t.color,width:t.percentage+"%",height:t.height}})])])}),U=[],G={name:"MiniProgress",props:{target:{type:Number,default:0},height:{type:String,default:"10px"},color:{type:String,default:"#13C2C2"},percentage:{type:Number,default:0}}},J=G,W=(a("e039"),Object(f["a"])(J,H,U,!1,null,"6339af63",null)),Q=(W.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-chart",{attrs:{forceFit:!0,height:"400",data:t.data,padding:[20,20,95,20],scale:t.scale}},[a("v-tooltip"),a("v-axis",{attrs:{dataKey:t.axis1Opts.dataKey,line:t.axis1Opts.line,tickLine:t.axis1Opts.tickLine,grid:t.axis1Opts.grid}}),a("v-axis",{attrs:{dataKey:t.axis2Opts.dataKey,line:t.axis2Opts.line,tickLine:t.axis2Opts.tickLine,grid:t.axis2Opts.grid}}),a("v-legend",{attrs:{dataKey:"user",marker:"circle",offset:30}}),a("v-coord",{attrs:{type:"polar",radius:"0.8"}}),a("v-line",{attrs:{position:"item*score",color:"user",size:2}}),a("v-point",{attrs:{position:"item*score",color:"user",size:4,shape:"circle"}})],1)}),X=[],tt={dataKey:"item",line:null,tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}},et={dataKey:"score",line:null,tickLine:null,grid:{type:"polygon",lineStyle:{lineDash:null}}},at=[{dataKey:"score",min:0,max:80},{dataKey:"user",alias:"类型"}],rt={name:"Radar",props:{data:{type:Array,default:null}},data:function(){return{axis1Opts:tt,axis2Opts:et,scale:at}}},it=rt,st=Object(f["a"])(it,Q,X,!1,null,"62f4b6aa",null),nt=(st.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rank"},[a("h4",{staticClass:"title"},[t._v(t._s(t.title))]),a("ul",{staticClass:"list"},t._l(t.list,function(e,r){return a("li",{key:r},[a("span",{class:r<3?"active":null},[t._v(t._s(r+1))]),a("span",[t._v(t._s(e.name))]),a("span",[t._v(t._s(e.total))])])}),0)])}),ot=[],lt={name:"RankList",props:{title:{type:String,default:""},list:{type:Array,default:null}}},ct=lt,dt=(a("3e9f"),Object(f["a"])(ct,nt,ot,!1,null,"7268f423",null)),ut=(dt.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{padding:"0 0 32px 32px"}},[a("h4",{style:{marginBottom:"20px"}},[t._v(t._s(t.title))]),a("v-chart",{attrs:{height:"254",data:t.data,scale:t.scale,forceFit:!0,padding:["auto","auto","40","50"]}},[a("v-tooltip"),a("v-axis"),a("v-bar",{attrs:{position:"x*y"}})],1)],1)}),pt=[],ft=["x*y",function(t,e){return{name:t,value:e}}],ht=[{dataKey:"x",title:"日期(天)",alias:"日期(天)",min:2},{dataKey:"y",title:"流量(Gb)",alias:"流量(Gb)",min:1}],mt={name:"Bar",props:{title:{type:String,default:""}},data:function(){return{data:[],scale:ht,tooltip:ft}},created:function(){this.getMonthBar()},methods:{getMonthBar:function(){var t=this;this.$http.get("/analysis/month-bar").then(function(e){t.data=e.result})}}},gt=mt,vt=Object(f["a"])(gt,ut,pt,!1,null,null,null),bt=(vt.exports,a("a545"),a("6a2a")),yt=(bt["a"],a("c4db"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.prefixCls},[a("div",{staticStyle:{float:"left"}},[t._t("extra",[t._v(t._s(t.extra))])],2),a("div",{staticStyle:{float:"right"}},[t._t("default")],2)])}),wt=[],xt={name:"FooterToolBar",props:{prefixCls:{type:String,default:"ant-pro-footer-toolbar"},extra:{type:[String,Object],default:""}}},_t=xt,kt=Object(f["a"])(_t,yt,wt,!1,null,"097458dd",null),Ct=(kt.exports,a("2432"),a("2ce4"),a("c16f"),a("cebc")),St=(a("7f7f"),a("55f1")),Ot=St["a"].Item,Lt=(Array,Array,a("611e"),a("e8c4"),a("31fc"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"result"},[a("div",[a("a-icon",{class:{icon:!0,success:t.isSuccess,error:!t.isSuccess},attrs:{type:t.isSuccess?"check-circle":"close-circle"}})],1),t.title?a("div",{staticClass:"title"},[t._v(t._s(t.title))]):t._e(),t.description?a("div",{staticClass:"description"},[t._v(t._s(t.description))]):t._e(),t.content?a("div",{staticClass:"content"},[t._t("default")],2):t._e(),a("div",{staticClass:"action"},[t._t("action")],2)])}),qt=[],$t={name:"Result",props:{isSuccess:{type:Boolean,default:!1},title:{type:String,default:""},description:{type:String,default:""},content:{type:Boolean,default:!0}}},Bt=$t,Tt=(a("bd24"),Object(f["a"])(Bt,Lt,qt,!1,null,"0bba2e00",null)),zt=Tt.exports,Dt=zt,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-tabs",t._l(t.icons,function(e,r){return a("a-tab-pane",{key:r,attrs:{tab:e.title}},[a("ul",t._l(e.icons,function(r,i){return a("li",{key:e.title+"-"+i,class:{active:t.selectedIcon==r}},[a("a-icon",{style:{fontSize:"36px"},attrs:{type:r},on:{click:function(e){return t.handleSelectedIcon(r)}}})],1)}),0)])}),1)],1)},Et=[],Ft=[{title:"方向性图标",icons:["step-backward","step-forward","fast-backward","fast-forward","shrink","arrows-alt","down","up","left","right","caret-up","caret-down","caret-left","caret-right","up-circle","down-circle","left-circle","right-circle","double-right","double-left","vertical-left","vertical-right","forward","backward","rollback","enter","retweet","swap","swap-left","swap-right","arrow-up","arrow-down","arrow-left","arrow-right","play-circle","up-square","down-square","left-square","right-square","login","logout","menu-fold","menu-unfold","border-bottom","border-horizontal","border-inner","border-left","border-right","border-top","border-verticle","pic-center","pic-left","pic-right","radius-bottomleft","radius-bottomright","radius-upleft","fullscreen","fullscreen-exit"]},{title:"提示建议性图标",icons:["question","question-circle","plus","plus-circle","pause","pause-circle","minus","minus-circle","plus-square","minus-square","info","info-circle","exclamation","exclamation-circle","close","close-circle","close-square","check","check-circle","check-square","clock-circle","warning","issues-close","stop"]},{title:"编辑类图标",icons:["edit","form","copy","scissor","delete","snippets","diff","highlight","align-center","align-left","align-right","bg-colors","bold","italic","underline","strikethrough","redo","undo","zoom-in","zoom-out","font-colors","font-size","line-height","colum-height","dash","small-dash","sort-ascending","sort-descending","drag","ordered-list","radius-setting"]},{title:"数据类图标",icons:["area-chart","pie-chart","bar-chart","dot-chart","line-chart","radar-chart","heat-map","fall","rise","stock","box-plot","fund","sliders"]},{title:"网站通用图标",icons:["lock","unlock","bars","book","calendar","cloud","cloud-download","code","copy","credit-card","delete","desktop","download","ellipsis","file","file-text","file-unknown","file-pdf","file-word","file-excel","file-jpg","file-ppt","file-markdown","file-add","folder","folder-open","folder-add","hdd","frown","meh","smile","inbox","laptop","appstore","link","mail","mobile","notification","paper-clip","picture","poweroff","reload","search","setting","share-alt","shopping-cart","tablet","tag","tags","to-top","upload","user","video-camera","home","loading","loading-3-quarters","cloud-upload","star","heart","environment","eye","camera","save","team","solution","phone","filter","exception","export","customer-service","qrcode","scan","like","dislike","message","pay-circle","calculator","pushpin","bulb","select","switcher","rocket","bell","disconnect","database","compass","barcode","hourglass","key","flag","layout","printer","sound","usb","skin","tool","sync","wifi","car","schedule","user-add","user-delete","usergroup-add","usergroup-delete","man","woman","shop","gift","idcard","medicine-box","red-envelope","coffee","copyright","trademark","safety","wallet","bank","trophy","contacts","global","shake","api","fork","dashboard","table","profile","alert","audit","branches","build","border","crown","experiment","fire","money-collect","property-safety","read","reconciliation","rest","security-scan","insurance","interation","safety-certificate","project","thunderbolt","block","cluster","deployment-unit","dollar","euro","pound","file-done","file-exclamation","file-protect","file-search","file-sync","gateway","gold","robot","shopping"]},{title:"品牌和标识",icons:["android","apple","windows","ie","chrome","github","aliwangwang","dingding","weibo-square","weibo-circle","taobao-circle","html5","weibo","twitter","wechat","youtube","alipay-circle","taobao","skype","qq","medium-workmark","gitlab","medium","linkedin","google-plus","dropbox","facebook","codepen","code-sandbox","amazon","google","codepen-circle","alipay","ant-design","aliyun","zhihu","slack","slack-square","behance","behance-square","dribbble","dribbble-square","instagram","yuque","alibaba","yahoo"]}],At={name:"IconSelect",data:function(){return{selectedIcon:"",icons:Ft}},methods:{handleSelectedIcon:function(t){this.selectedIcon=t,this.$emit("change",t)}}},It=At,Kt=(a("46e5"),Object(f["a"])(It,jt,Et,!1,null,"450a0f99",null)),Pt=(Kt.exports,{name:"RegisterResult",components:{Result:Dt},data:function(){return{description:"激活邮件已发送到你的邮箱中，邮件有效期为24小时。请及时登录邮箱，点击邮件中的链接激活帐户。",form:{}}},computed:{email:function(){var t=this.form&&this.form.email||"xxx",e="你的账户：".concat(t," 注册成功");return e}},created:function(){this.form=this.$route.params},methods:{goHomeHandle:function(){this.$router.push({name:"login"})}}}),Mt=Pt,Rt=Object(f["a"])(Mt,r,i,!1,null,"408d9678",null);e["default"]=Rt.exports},1348:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"main user-layout-register"},[e._m(0),r("a-form",{ref:"formRegister",attrs:{autoFormCreate:function(e){t.form=e},id:"formRegister"}},[r("a-form-item",{attrs:{fieldDecoratorId:"email",fieldDecoratorOptions:{rules:[{required:!0,type:"email",message:"请输入邮箱地址"}],validateTrigger:["change","blur"]}}},[r("a-input",{attrs:{size:"large",type:"text",placeholder:"邮箱"}})],1),r("a-popover",{attrs:{placement:"rightTop",trigger:"click",visible:e.state.passwordLevelChecked}},[r("template",{slot:"content"},[r("div",{style:{width:"240px"}},[r("div",{class:["user-register",e.passwordLevelClass]},[e._v("强度："),r("span",[e._v(e._s(e.passwordLevelName))])]),r("a-progress",{attrs:{percent:e.state.percent,showInfo:!1,strokeColor:e.passwordLevelColor}}),r("div",{staticStyle:{"margin-top":"10px"}},[r("span",[e._v("请至少输入 6 个字符。请不要使用容易被猜到的密码。")])])],1)]),r("a-form-item",{attrs:{fieldDecoratorId:"password",fieldDecoratorOptions:{rules:[{required:!0,message:"至少6位密码，区分大小写"},{validator:this.handlePasswordLevel}],validateTrigger:["change","blur"]}}},[r("a-input",{attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"至少6位密码，区分大小写"},on:{click:e.handlePasswordInputClick}})],1)],2),r("a-form-item",{attrs:{fieldDecoratorId:"password2",fieldDecoratorOptions:{rules:[{required:!0,message:"至少6位密码，区分大小写"},{validator:this.handlePasswordCheck}],validateTrigger:["change","blur"]}}},[r("a-input",{attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"确认密码"}})],1),r("a-form-item",{attrs:{fieldDecoratorId:"mobile",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入正确的手机号",pattern:/^1[3456789]\d{9}$/},{validator:this.handlePhoneCheck}],validateTrigger:["change","blur"]}}},[r("a-input",{attrs:{size:"large",placeholder:"11 位手机号"}},[r("a-select",{attrs:{slot:"addonBefore",size:"large",defaultValue:"+86"},slot:"addonBefore"},[r("a-select-option",{attrs:{value:"+86"}},[e._v("+86")]),r("a-select-option",{attrs:{value:"+87"}},[e._v("+87")])],1)],1)],1),r("a-row",{attrs:{gutter:16}},[r("a-col",{staticClass:"gutter-row",attrs:{span:16}},[r("a-form-item",{attrs:{fieldDecoratorId:"captcha",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入验证码"}],validateTrigger:"blur"}}},[r("a-input",{attrs:{size:"large",type:"text",placeholder:"验证码"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1)],1),r("a-col",{staticClass:"gutter-row",attrs:{span:8}},[r("a-button",{staticClass:"getCaptcha",attrs:{size:"large",disabled:e.state.smsSendBtn},domProps:{textContent:e._s(e.state.smsSendBtn?e.state.time+" s":"获取验证码")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.getCaptcha(t)}}})],1)],1),r("a-form-item",[r("a-button",{staticClass:"register-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.registerBtn,disabled:e.registerBtn},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[e._v("注册\n      ")]),r("router-link",{staticClass:"login",attrs:{to:{name:"login"}}},[e._v("使用已有账户登录")])],1)],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",[t._v("注册")])])}],s=a("cebc"),n=a("ac0d"),o={Login:"/auth/login",Logout:"/auth/logout",ForgePassword:"/auth/forge-password",Register:"/auth/register",twoStepCode:"/auth/2step-code",SendSms:"/account/sms",SendSmsErr:"/account/sms_err",UserInfo:"/user/info"},l=o,c=a("b775");a("a026");function d(t){return Object(c["b"])({url:l.SendSms,method:"post",data:t})}var u={0:"低",1:"低",2:"中",3:"强"},p={0:"error",1:"error",2:"warning",3:"success"},f={0:"#ff0000",1:"#ff0000",2:"#ff7e05",3:"#52c41a"},h={name:"Register",components:{},mixins:[n["b"]],data:function(){return{form:null,state:{time:60,smsSendBtn:!1,passwordLevel:0,passwordLevelChecked:!1,percent:10,progressColor:"#FF0000"},registerBtn:!1}},computed:{passwordLevelClass:function(){return p[this.state.passwordLevel]},passwordLevelName:function(){return u[this.state.passwordLevel]},passwordLevelColor:function(){return f[this.state.passwordLevel]}},methods:{handlePasswordLevel:function(t,e,a){var r=0;/[0-9]/.test(e)&&r++,/[a-zA-Z]/.test(e)&&r++,/[^0-9a-zA-Z_]/.test(e)&&r++,this.state.passwordLevel=r,this.state.percent=30*r,r>=2?(r>=3&&(this.state.percent=100),a()):(0===r&&(this.state.percent=10),a(new Error("密码强度不够")))},handlePasswordCheck:function(t,e,a){var r=this.form.getFieldValue("password");console.log("value",e),void 0===e&&a(new Error("请输入密码")),e&&r&&e.trim()!==r.trim()&&a(new Error("两次密码不一致")),a()},handlePhoneCheck:function(t,e,a){console.log("handlePhoneCheck, rule:",t),console.log("handlePhoneCheck, value",e),console.log("handlePhoneCheck, callback",a),a()},handlePasswordInputClick:function(){this.isMobile()?this.state.passwordLevelChecked=!1:this.state.passwordLevelChecked=!0},handleSubmit:function(){var t=this;this.form.validateFields(function(e,a){e||t.$router.push({name:"registerResult",params:Object(s["a"])({},a)})})},getCaptcha:function(t){var e=this;t.preventDefault();var a=this;this.form.validateFields(["mobile"],{force:!0},function(t,r){if(!t){e.state.smsSendBtn=!0;var i=window.setInterval(function(){a.state.time--<=0&&(a.state.time=60,a.state.smsSendBtn=!1,window.clearInterval(i))},1e3),s=e.$message.loading("验证码发送中..",0);d({mobile:r.mobile}).then(function(t){setTimeout(s,2500),e.$notification["success"]({message:"提示",description:"验证码获取成功，您的验证码为："+t.result.captcha,duration:8})}).catch(function(t){setTimeout(s,1),clearInterval(i),a.state.time=60,a.state.smsSendBtn=!1,e.requestFailed(t)})}})},requestFailed:function(t){this.$notification["error"]({message:"错误",description:((t.response||{}).data||{}).message||"请求出现错误，请稍后再试",duration:4}),this.registerBtn=!1}},watch:{"state.passwordLevel":function(t){console.log(t)}}},m=h,g=(a("5d18"),a("a2a0"),a("2877")),v=Object(g["a"])(m,r,i,!1,null,"32db87a4",null);e["default"]=v.exports},"21c5":function(t,e,a){},2432:function(t,e,a){},2824:function(t,e,a){},"29c9":function(t,e,a){"use strict";var r=a("996a"),i=a.n(r);i.a},"2bf7":function(t,e,a){"use strict";var r=a("6e5c"),i=a.n(r);i.a},"3e03":function(t,e,a){},"3e9f":function(t,e,a){"use strict";var r=a("3e03"),i=a.n(r);i.a},"46e5":function(t,e,a){"use strict";var r=a("21c5"),i=a.n(r);i.a},"5d18":function(t,e,a){"use strict";var r=a("e236"),i=a.n(r);i.a},"6e5c":function(t,e,a){},"996a":function(t,e,a){},a2a0:function(t,e,a){"use strict";var r=a("b8ce"),i=a.n(r);i.a},ac2a:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{id:"formLogin",form:t.form},on:{submit:t.handleSubmit}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["account",{rules:[{required:!0,message:"请输入帐户名"},{validator:t.handleUsernameOrEmail}],validateTrigger:"change"}],expression:"[\n          'account',\n          {rules: [{ required: true, message: '请输入帐户名' }, { validator: handleUsernameOrEmail }], validateTrigger: 'change'}\n        ]"}],attrs:{size:"large",type:"text",placeholder:"帐户名"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"}],validateTrigger:"blur"}],expression:"['password',{rules: [{ required: true, message: '请输入密码' }], validateTrigger: 'blur'}]"}],attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"密码"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-form-item",{staticStyle:{"margin-top":"24px"}},[a("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:t.state.loginBtn,disabled:t.state.loginBtn}},[t._v("确定\n      ")])],1)],1),t.requiredTwoStepCaptcha?a("two-step-captcha",{attrs:{visible:t.stepCaptchaVisible},on:{success:t.stepCaptchaSuccess,cancel:t.stepCaptchaCancel}}):t._e()],1)},i=[],s=(a("06db"),a("cebc")),n=function(){var t=this,e=this,a=e.$createElement,r=e._self._c||a;return r("a-modal",{attrs:{centered:"",maskClosable:!1},on:{cancel:e.handleCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("div",{style:{textAlign:"center"},attrs:{slot:"title"},slot:"title"},[e._v("两步验证")]),r("template",{slot:"footer"},[r("div",{style:{textAlign:"center"}},[r("a-button",{key:"back",on:{click:e.handleCancel}},[e._v("返回")]),r("a-button",{key:"submit",attrs:{type:"primary",loading:e.stepLoading},on:{click:e.handleStepOk}},[e._v("\n        继续\n      ")])],1)]),r("a-spin",{attrs:{spinning:e.stepLoading}},[r("a-form",{attrs:{layout:"vertical","auto-form-create":function(e){t.form=e}}},[r("div",{staticClass:"step-form-wrapper"},[e.stepLoading?r("p",{staticStyle:{"text-align":"center"}},[e._v("正在验证.."),r("br"),e._v("请稍后")]):r("p",{staticStyle:{"text-align":"center"}},[e._v("请在手机中打开 Google Authenticator 或两步验证 APP"),r("br"),e._v("输入 6 位动态码")]),r("a-form-item",{style:{textAlign:"center"},attrs:{hasFeedback:"",fieldDecoratorId:"stepCode",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入 6 位动态码!",pattern:/^\d{6}$/,len:6}]}}},[r("a-input",{style:{textAlign:"center"},attrs:{placeholder:"000000"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleStepOk(t)}}})],1),r("p",{staticStyle:{"text-align":"center"}},[r("a",{on:{click:e.onForgeStepCode}},[e._v("遗失手机?")])])],1)])],1)],2)},o=[],l={props:{visible:{type:Boolean,default:!1}},data:function(){return{stepLoading:!1,form:null}},methods:{handleStepOk:function(){var t=this,e=this;this.stepLoading=!0,this.form.validateFields(function(a,r){if(!a)return console.log("values",r),void setTimeout(function(){e.stepLoading=!1,e.$emit("success",{values:r})},2e3);t.stepLoading=!1,t.$emit("error",{err:a})})},handleCancel:function(){this.visible=!1,this.$emit("cancel")},onForgeStepCode:function(){}}},c=l,d=(a("e340"),a("2877")),u=Object(d["a"])(c,n,o,!1,null,"53c128de",null),p=u.exports,f=a("2f62"),h=a("ca00"),m=(a("607e"),a("4360")),g={components:{TwoStepCaptcha:p},data:function(){return{customActiveKey:"tab1",loginBtn:!1,loginType:0,requiredTwoStepCaptcha:!1,stepCaptchaVisible:!1,form:this.$form.createForm(this),state:{time:60,loginBtn:!1,loginType:0,smsSendBtn:!1}}},created:function(){},methods:Object(s["a"])({},Object(f["b"])(["Login","Logout"]),{handleUsernameOrEmail:function(t,e,a){var r=this.state,i=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;i.test(e)?r.loginType=0:r.loginType=1,a()},handleTabClick:function(t){this.customActiveKey=t},handleSubmit:function(t){var e=this;t.preventDefault();var a=this.form.validateFields,r=this.state,i=this.customActiveKey,n=this.Login;r.loginBtn=!0;var o="tab1"===i?["account","password"]:["mobile","captcha"];a(o,{force:!0},function(t,a){if(t)setTimeout(function(){r.loginBtn=!1},600);else{console.log("login form",a);var i=Object(s["a"])({},a);delete i.account,i[r.loginType?"username":"email"]=a.account,n(i).then(function(t){return e.loginSuccess(t)}).catch(function(t){return e.requestFailed(t)}).finally(function(){r.loginBtn=!1})}})},stepCaptchaSuccess:function(){this.loginSuccess()},stepCaptchaCancel:function(){var t=this;this.Logout().then(function(){t.loginBtn=!1,t.stepCaptchaVisible=!1})},loginSuccess:function(t){var e=this;console.log(t),this.$router.push({name:"index"}),setTimeout(function(){e.$notification.success({message:"欢迎"+m["a"].getters.nickname,description:"".concat(Object(h["a"])(),"，欢迎回来")})},1e3)},requestFailed:function(t){this.$notification["error"]({message:"错误",description:t,duration:4})}})},v=g,b=(a("fd7f"),Object(d["a"])(v,r,i,!1,null,"7ca040b0",null));e["default"]=b.exports},b8ce:function(t,e,a){},bd24:function(t,e,a){"use strict";var r=a("e7d8"),i=a.n(r);i.a},c2fc:function(t,e,a){},d4e1:function(t,e,a){},e039:function(t,e,a){"use strict";var r=a("c2fc"),i=a.n(r);i.a},e225:function(t,e,a){"use strict";var r=a("d4e1"),i=a.n(r);i.a},e236:function(t,e,a){},e340:function(t,e,a){"use strict";var r=a("2824"),i=a.n(r);i.a},e7d8:function(t,e,a){},f663:function(t,e,a){},fd7f:function(t,e,a){"use strict";var r=a("f663"),i=a.n(r);i.a}}]);